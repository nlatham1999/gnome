import Head from 'next/head'
import styles from '../styles/Home.module.css'
import { LoginPage } from '../components/login-page'
import { useState } from 'react';
import HomePage from '../components/home-page';
import { isLoggedIn} from '../lib/fake-data';
import { useUser } from '@auth0/nextjs-auth0';



export default function Home() {
  const { user, error, isLoading } = useUser();
 
  if (isLoading) return <div>Loading...</div>;
  if (error) return <div>{error.message}</div>;

  return (
    <div className={styles.container}>
      
      <Head>
        <title>gnome</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>


      {!user && <LoginPage />}
      {user && <HomePage />}
    </div>
  )
}
